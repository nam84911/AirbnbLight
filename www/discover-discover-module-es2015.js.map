{"version":3,"sources":["./src/app/places/discover/discover.page.html","./src/app/places/discover/discover-routing.module.ts","./src/app/places/discover/discover.module.ts","./src/app/places/discover/discover.page.scss","./src/app/places/discover/discover.page.ts"],"names":[],"mappings":"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","file":"discover-discover-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-button fill=\\\"clear\\\"color=\\\"primary\\\"  slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"first\\\"></ion-menu-button>\\n    </ion-button>\\n    <ion-title>discover</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-segment value=\\\"all\\\" (ionChange)=\\\"onChange($event)\\\" #segment>\\n    <ion-segment-button value=\\\"all\\\">All places</ion-segment-button>\\n    <ion-segment-button value=\\\"bookable\\\">Bookable</ion-segment-button>\\n  </ion-segment>\\n  <div class=\\\"ion-text-center\\\" *ngIf=\\\"isLoading\\\">\\n    <ion-spinner ></ion-spinner>\\n  </div>\\n    <ion-row *ngIf=\\\"places.length>0\\\">\\n      <ion-col  text-center> \\n          <ion-card size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\" class=\\\"ion-text-center\\\">\\n            <ion-card-header>\\n              <ion-card-title class=\\\"ion-text-center\\\">\\n                {{places[0].description}}\\n              </ion-card-title>\\n              <ion-card-subtitle>\\n                {{places[0].price | currency}}/night\\n              </ion-card-subtitle>\\n            </ion-card-header>\\n            <ion-img [src]=\\\"places[0].photoURL\\\"></ion-img>\\n            <ion-card-content text-center>\\n              <p>{{places[0].title}}</p>\\n            </ion-card-content>\\n            <div class=\\\"ion-text-end\\\">\\n              <ion-button  color=\\\"primary\\\" fill=\\\"clear\\\" [routerLink]=\\\"[places[0].id]\\\">\\n                More\\n              </ion-button>\\n            </div>\\n          </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\" text-center> \\n       <ion-list>\\n         <ion-item *ngFor=\\\"let p of places.slice(1)\\\" [routerLink]=\\\"[p.id]\\\" detail>\\n            <ion-thumbnail slot=\\\"start\\\">\\n              <ion-img [src]=\\\"p.photoURL\\\"></ion-img>\\n            </ion-thumbnail>\\n            <ion-label class=\\\"ion-text-center\\\">\\n              <h2>{{p.description}}</h2>\\n              <p>{{p.price | currency}}/night</p>\\n            </ion-label>\\n         </ion-item>\\n       </ion-list>\\n      </ion-col>\\n    </ion-row>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DiscoverPage } from './discover.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DiscoverPage\n  },\n  {\n    path: 'place-detail',\n    loadChildren: () => import('./place-detail/place-detail.module').then( m => m.PlaceDetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DiscoverPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DiscoverPageRoutingModule } from './discover-routing.module';\n\nimport { DiscoverPage } from './discover.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DiscoverPageRoutingModule\n  ],\n  declarations: [DiscoverPage]\n})\nexport class DiscoverPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BsYWNlcy9kaXNjb3Zlci9kaXNjb3Zlci5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { PlaceService } from '../place.service';\nimport { Place } from '../place.model';\nimport {SegmentChangeEventDetail} from'@ionic/core'\nimport {Subscription} from 'rxjs'\nimport { ThrowStmt } from '@angular/compiler';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { IonSegment } from '@ionic/angular';\n@Component({\n  selector: 'app-discover',\n  templateUrl: './discover.page.html',\n  styleUrls: ['./discover.page.scss'],\n})\nexport class DiscoverPage implements OnInit,OnDestroy {\n  @ViewChild('segment',{static:true}) segment:IonSegment\n  places:Place[]\n   allPlaces:Place[]\n   isLoading=true\n   placesSubscription:Subscription\n  constructor(private placeService:PlaceService,private authService:AuthService) { }\n  ionViewWillEnter(){\n    if(this.segment.value=='all'){\n      this.places=this.allPlaces\n    }else if(this.segment.value=='bookable'){\n      this.places=this.allPlaces.filter(p=>p.userId!=this.authService.userId)\n    }\n    this.placeService.fetchData().subscribe(()=>{\n      this.isLoading=false\n    })\n  }\n  ngOnInit() {\n    this.placesSubscription=this.placeService.places.subscribe(places=>{\n      this.allPlaces=places\n      this.places=this.allPlaces\n    })\n  }\n  onChange(event:CustomEvent<SegmentChangeEventDetail>){\n    if(event.detail.value=='all'){\n      this.places=this.allPlaces\n    }else if(event.detail.value=='bookable'){\n      this.places=this.allPlaces.filter(p=>p.userId!=this.authService.userId)\n    }\n\n  }\n  ngOnDestroy(): void {\n    if(this.placesSubscription){\n      this.placesSubscription.unsubscribe()\n}     \n  }\n}\n"],"sourceRoot":"webpack:///"}