{"version":3,"sources":["./src/app/sharedfolder/map-modal/map-modal.component.html","./src/app/sharedfolder/picker/location-picker/location-picker.component.html","./src/app/sharedfolder/picker/time-picker/time-picker.component.html","./src/app/sharedfolder/map-modal/map-modal.component.scss","./src/app/sharedfolder/map-modal/map-modal.component.ts","./src/app/sharedfolder/picker/location-picker/location-picker.component.scss","./src/app/sharedfolder/picker/location-picker/location-picker.component.ts","./src/app/sharedfolder/picker/time-picker/time-picker.component.scss","./src/app/sharedfolder/picker/time-picker/time-picker.component.ts","./src/app/sharedfolder/shared.module.ts"],"names":[],"mappings":"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","file":"default~discover-place-detail-place-detail-module~new-offer-new-offer-module~offers-new-offer-new-of~089e34c1-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons>\\n      <ion-button slot=\\\"primary\\\" (click)=\\\"onCancel()\\\">Cancel</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map\\\" #map>\\n\\n  </div>\\n</ion-content>\"","export default \"<div class=\\\"picker\\\">\\n  <ion-spinner *ngIf=\\\"isloading\\\"></ion-spinner>\\n  <ion-img class=\\\"img\\\" *ngIf=\\\"selectedURL&&!isloading\\\" [src]=\\\"selectedURL\\\" (click)=\\\"onClickLocation()\\\"></ion-img>\\n  <ion-button *ngIf=\\\"!selectedURL\\\" clor=\\\"primary\\\" (click)=\\\"onClickLocation()\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"map\\\"></ion-icon>\\n    <ion-label>Select a location</ion-label>\\n</ion-button>\\n</div>\\n\"","export default \"<div class=\\\"picker\\\">\\n  <ion-img class=\\\"img\\\" [src]=\\\"\\\" ></ion-img>\\n  <ion-button clor=\\\"primary\\\" (click)=\\\"onClickImage()\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"Camera\\\"></ion-icon>\\n    <ion-label>Get an Image</ion-label>\\n</ion-button>\\n</div>\"","export default \".map {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  background-color: transparent;\\n  opacity: 0;\\n  transition: opacity 150ms ease-in;\\n}\\n\\n.map.visible {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYW1kby9Eb2N1bWVudC9pb25pYy9haXJibmIvc3JjL2FwcC9zaGFyZWRmb2xkZXIvbWFwLW1vZGFsL21hcC1tb2RhbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkZm9sZGVyL21hcC1tb2RhbC9tYXAtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsaUNBQUE7QUNDSjs7QURDQTtFQUNJLFVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZGZvbGRlci9tYXAtbW9kYWwvbWFwLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hcHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OjEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgb3BhY2l0eTogMDtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDE1MG1zIGVhc2UtaW47XG59XG4ubWFwLnZpc2libGV7XG4gICAgb3BhY2l0eTogMTtcbn0iLCIubWFwIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xufVxuXG4ubWFwLnZpc2libGUge1xuICBvcGFjaXR5OiAxO1xufSJdfQ== */\"","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef ,Renderer2, OnDestroy, Input} from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-map-modal',\n  templateUrl: './map-modal.component.html',\n  styleUrls: ['./map-modal.component.scss'],\n})\nexport class MapModalComponent implements OnInit,AfterViewInit,OnDestroy {\n  @Input() selectable=true\n  @Input() loc={lat:-34.397,lng:150.644}\n  @Input() title=\"Pick a location\"\n  ngOnDestroy(): void {\n    this.googleMap.event.removeListener(this.event)\n  }\n  @ViewChild('map',{static:false}) mapEl:ElementRef\n  googleMap:any\n  event:any\n  ngAfterViewInit(): void {\n    this.getGoogleMap().then(map=>{\n      const mapView=this.mapEl.nativeElement\n      const m=new map.Map(mapView,{\n        center:this.loc,\n        zoom:16\n      })\n      this.googleMap=map\n      this.event=map.event.addListenerOnce(m,'idle',()=>{\n        this.render.addClass(mapView,'visible')\n      })\n      if(!this.selectable) {\n        const marker=new map.Marker({\n          position:this.loc,\n          map:m,\n          title:\"Your booking\"\n        })\n        console.log(marker)\n        marker.setMap(m)\n        return\n      }\n      m.addListener('click',event=>{\n          const cords={lat:event.latLng.lat(),lng:event.latLng.lng()}\n          this.ctr.dismiss(cords)\n        })\n      }).catch(err=>{console.log(err)})\n  }\n\n  constructor(private render:Renderer2,private ctr:ModalController) { }\n\n  ngOnInit() {}\n\n  onCancel(){\n    this.ctr.dismiss()\n  }\nprivate getGoogleMap():Promise<any>{\n  const win=window as any\n  const googleModule=win.google\n  if(googleModule&&googleModule.maps){\n    return Promise.resolve(googleModule.maps)\n  }\n  return new Promise((resolve,reject)=>{\n    const script=document.createElement('script')\n    script.src=`https://maps.googleapis.com/maps/api/js?key=${environment.googleApiKey}`\n    script.async=true\n    script.defer=true\n    document.body.appendChild(script)\n    script.onload=()=>{\n      const loaded=win.google\n      if(loaded&&loaded.maps){\n        resolve(loaded.maps)\n      }else{\n        reject(\"Map sdk hasn't been loaded\")\n      }\n    }\n  })\n}\n}\n","export default \".picker {\\n  width: 30rem;\\n  max-width: 80%;\\n  height: 20rem;\\n  max-height: 30vh;\\n  border: 1px solid;\\n  display: flex;\\n  margin: auto;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.img {\\n  height: 100%;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYW1kby9Eb2N1bWVudC9pb25pYy9haXJibmIvc3JjL2FwcC9zaGFyZWRmb2xkZXIvcGlja2VyL2xvY2F0aW9uLXBpY2tlci9sb2NhdGlvbi1waWNrZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZGZvbGRlci9waWNrZXIvbG9jYXRpb24tcGlja2VyL2xvY2F0aW9uLXBpY2tlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkZm9sZGVyL3BpY2tlci9sb2NhdGlvbi1waWNrZXIvbG9jYXRpb24tcGlja2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBpY2tlcntcbiAgICB3aWR0aDozMHJlbTtcbiAgICBtYXgtd2lkdGg6IDgwJTtcbiAgICBoZWlnaHQ6IDIwcmVtO1xuICAgIG1heC1oZWlnaHQ6IDMwdmg7XG4gICAgYm9yZGVyOjFweCBzb2xpZDtcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgbWFyZ2luOmF1dG87XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6Y2VudGVyXG59XG4uaW1ne1xuICAgIGhlaWdodDoxMDAlO1xuICAgIHdpZHRoOjEwMCU7XG4gICAgb2JqZWN0LWZpdDpjb3ZlclxufVxuIiwiLnBpY2tlciB7XG4gIHdpZHRoOiAzMHJlbTtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIGhlaWdodDogMjByZW07XG4gIG1heC1oZWlnaHQ6IDMwdmg7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW46IGF1dG87XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uaW1nIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59Il19 */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ModalController, ActionSheetController, AlertController } from '@ionic/angular';\nimport { MapModalComponent } from '../../map-modal/map-modal.component';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport {switchMap,map} from'rxjs/operators'\nimport {of} from 'rxjs'\nimport { PlaceLocation, Coordinate } from 'src/app/places/placeLocation.model';\nimport {Plugins, Capacitor} from '@capacitor/core'\n@Component({\n  selector: 'app-location-picker',\n  templateUrl: './location-picker.component.html',\n  styleUrls: ['./location-picker.component.scss'],\n})\nexport class LocationPickerComponent implements OnInit {\n  @Output() pickLocation=new EventEmitter<PlaceLocation>()\n  selectedURL:string=null\n  isloading=false\n  constructor(private http:HttpClient,\n              private ctr:ModalController,\n              private action:ActionSheetController,\n              private alert:AlertController\n              ) { }\n\n  ngOnInit() {}\n  private toAddress(lat:number,lng:number){\n      return this.http.get<any>(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${environment.googleApiKey}`).pipe(map(data=>{\n        if(data==null||!data.results||data.results.length==0){\n          return null\n        }\n        return data.results[0].formatted_address\n      }))\n  }\n  onClickLocation(){\n    this.action.create({header:\"Location Options\",buttons:[\n      {\n        text:\"Auto-Locate\",\n        handler:()=>{this.locateUser()}\n      },{\n        text:\"Manual Location\",\n        handler:()=>{this.openMap()}\n      },{\n        text:\"Canvel\",\n        role:\"cancel\"\n      }]\n    }).then(ctr=>{ctr.present()})\n  }\n  private locateUser(){\n    if(Capacitor.isPluginAvailable('Geolocation')){\n      Plugins.Geolocation.getCurrentPosition().then(location=>{\n        const loc:Coordinate={lat:location.coords.latitude,lng:location.coords.longitude}\n        this.createMap(loc.lat,loc.lng)\n      }).catch(err=>{console.log(err)})\n    }else{\n      this.alert.create({header:\"Can't find location\",\n                        message:\"We can't find your location\",buttons:['Okey']}).then(ctr=>{ctr.present()})\n    }\n  }\n  private openMap(){\n    this.ctr.create({component:MapModalComponent}).then(controller=>{\n      controller.present()\n      controller.onDidDismiss().then(data=>{\n        this.createMap(data.data.lat,data.data.lng)\n      })\n    })\n  }\n  private createMap(lat:number,lng:number){\n    const place:PlaceLocation={\n      lat:lat,\n      lng:lng,\n      address:null,\n      imageURL:null\n    }\n    this.toAddress(lat,lng).pipe(switchMap(address=>{\n      place.address=address\n      this.isloading=true\n      return of(this.getImage(place.lat,place.lng,18))\n    })).subscribe(url=>{\n      place.imageURL=url\n      this.selectedURL=url\n      this.isloading=false\n      this.pickLocation.emit(place)\n    })\n  }\n  private getImage(lat:number,lng:number,zoom:number){\n    return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lng}&zoom=${zoom}&size=500x300&maptype=roadmap&markers=color:red%7Clabel:Place%7C${lat},${lng}&key=${environment.googleApiKey}`\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZGZvbGRlci9waWNrZXIvdGltZS1waWNrZXIvdGltZS1waWNrZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { Plugins, Capacitor, CameraSource, CameraResultType } from '@capacitor/core';\n\n@Component({\n  selector: 'app-time-picker',\n  templateUrl: './time-picker.component.html',\n  styleUrls: ['./time-picker.component.scss'],\n})\nexport class TimePickerComponent implements OnInit {\n  @Output() imagePicker=new EventEmitter<String>()\n  constructor() { }\n\n  ngOnInit() {}\n\n  onClickImage(){\n    if(Capacitor.isPluginAvailable('Camera')){\n      Plugins.Camera.getPhoto({\n        quality:50,\n        source:CameraSource.Prompt,\n        correctOrientation:true,\n        height:320,\n        width:200,\n        resultType:CameraResultType.Base64\n      }).then(image=>{\n        this.imagePicker.emit(image.base64String)\n      }).catch(err=>{\n        console.log(err)\n        return\n      })\n    }else{\n      return\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MapModalComponent } from './map-modal/map-modal.component';\nimport { LocationPickerComponent } from './picker/location-picker/location-picker.component';\nimport { IonicModule } from '@ionic/angular';\nimport { TimePickerComponent } from './picker/time-picker/time-picker.component';\n\n@NgModule({\n    imports: [\n      CommonModule,\n      IonicModule\n    ],\n    declarations: [MapModalComponent,LocationPickerComponent,TimePickerComponent],\n    exports: [MapModalComponent,LocationPickerComponent,TimePickerComponent],\n    entryComponents:[MapModalComponent]\n  })\nexport class SharedModule{\n\n}"],"sourceRoot":"webpack:///"}