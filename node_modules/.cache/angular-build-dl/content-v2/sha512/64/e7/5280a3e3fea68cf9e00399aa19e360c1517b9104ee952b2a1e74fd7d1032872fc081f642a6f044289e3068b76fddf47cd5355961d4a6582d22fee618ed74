{"version":3,"sources":["src/app/sharedfolder/map-modal/map-modal.component.html","src/app/sharedfolder/picker/location-picker/location-picker.component.html","src/app/sharedfolder/map-modal/map-modal.component.scss","src/app/sharedfolder/map-modal/map-modal.component.ts","src/app/sharedfolder/picker/location-picker/location-picker.component.scss","src/app/sharedfolder/picker/location-picker/location-picker.component.ts","src/app/sharedfolder/shared.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons>\\n      <ion-button slot=\\\"primary\\\" (click)=\\\"onCancel()\\\">Cancel</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map\\\" #map>\\n\\n  </div>\\n</ion-content>\"","export default \"<div class=\\\"picker\\\">\\n  <ion-spinner *ngIf=\\\"isloading\\\"></ion-spinner>\\n  <ion-img class=\\\"img\\\" *ngIf=\\\"selectedURL&&!isloading\\\" [src]=\\\"selectedURL\\\" (click)=\\\"onClickLocation()\\\"></ion-img>\\n  <ion-button *ngIf=\\\"!selectedURL\\\" clor=\\\"primary\\\" (click)=\\\"onClickLocation()\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"map\\\"></ion-icon>\\n    <ion-label>Select a location</ion-label>\\n</ion-button>\\n</div>\\n\"","export default \".map {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  background-color: transparent;\\n  opacity: 0;\\n  transition: opacity 150ms ease-in;\\n}\\n\\n.map.visible {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYW1kby9Eb2N1bWVudC9pb25pYy9haXJibmIvc3JjL2FwcC9zaGFyZWRmb2xkZXIvbWFwLW1vZGFsL21hcC1tb2RhbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkZm9sZGVyL21hcC1tb2RhbC9tYXAtbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsaUNBQUE7QUNDSjs7QURDQTtFQUNJLFVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZGZvbGRlci9tYXAtbW9kYWwvbWFwLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hcHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OjEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgb3BhY2l0eTogMDtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDE1MG1zIGVhc2UtaW47XG59XG4ubWFwLnZpc2libGV7XG4gICAgb3BhY2l0eTogMTtcbn0iLCIubWFwIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xufVxuXG4ubWFwLnZpc2libGUge1xuICBvcGFjaXR5OiAxO1xufSJdfQ== */\"","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef ,Renderer2, OnDestroy, Input} from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-map-modal',\n  templateUrl: './map-modal.component.html',\n  styleUrls: ['./map-modal.component.scss'],\n})\nexport class MapModalComponent implements OnInit,AfterViewInit,OnDestroy {\n  @Input() selectable=true\n  @Input() loc={lat:-34.397,lng:150.644}\n  @Input() title=\"Pick a location\"\n  ngOnDestroy(): void {\n    this.googleMap.event.removeListener(this.event)\n  }\n  @ViewChild('map',{static:false}) mapEl:ElementRef\n  googleMap:any\n  event:any\n  ngAfterViewInit(): void {\n    this.getGoogleMap().then(map=>{\n      const mapView=this.mapEl.nativeElement\n      const m=new map.Map(mapView,{\n        center:this.loc,\n        zoom:16\n      })\n      this.googleMap=map\n      this.event=map.event.addListenerOnce(m,'idle',()=>{\n        this.render.addClass(mapView,'visible')\n      })\n      if(!this.selectable) {\n        const marker=new map.Marker({\n          position:this.loc,\n          map:m,\n          title:\"Your booking\"\n        })\n        console.log(marker)\n        marker.setMap(m)\n        return\n      }\n      m.addListener('click',event=>{\n          const cords={lat:event.latLng.lat(),lng:event.latLng.lng()}\n          this.ctr.dismiss(cords)\n        })\n      }).catch(err=>{console.log(err)})\n  }\n\n  constructor(private render:Renderer2,private ctr:ModalController) { }\n\n  ngOnInit() {}\n\n  onCancel(){\n    this.ctr.dismiss()\n  }\nprivate getGoogleMap():Promise<any>{\n  const win=window as any\n  const googleModule=win.google\n  if(googleModule&&googleModule.maps){\n    return Promise.resolve(googleModule.maps)\n  }\n  return new Promise((resolve,reject)=>{\n    const script=document.createElement('script')\n    script.src=`https://maps.googleapis.com/maps/api/js?key=${environment.googleApiKey}`\n    script.async=true\n    script.defer=true\n    document.body.appendChild(script)\n    script.onload=()=>{\n      const loaded=win.google\n      if(loaded&&loaded.maps){\n        resolve(loaded.maps)\n      }else{\n        reject(\"Map sdk hasn't been loaded\")\n      }\n    }\n  })\n}\n}\n","export default \".picker {\\n  width: 30rem;\\n  max-width: 80%;\\n  height: 20rem;\\n  max-height: 30vh;\\n  border: 1px solid;\\n  display: flex;\\n  margin: auto;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.img {\\n  height: 100%;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYW1kby9Eb2N1bWVudC9pb25pYy9haXJibmIvc3JjL2FwcC9zaGFyZWRmb2xkZXIvcGlja2VyL2xvY2F0aW9uLXBpY2tlci9sb2NhdGlvbi1waWNrZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZGZvbGRlci9waWNrZXIvbG9jYXRpb24tcGlja2VyL2xvY2F0aW9uLXBpY2tlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkZm9sZGVyL3BpY2tlci9sb2NhdGlvbi1waWNrZXIvbG9jYXRpb24tcGlja2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBpY2tlcntcbiAgICB3aWR0aDozMHJlbTtcbiAgICBtYXgtd2lkdGg6IDgwJTtcbiAgICBoZWlnaHQ6IDIwcmVtO1xuICAgIG1heC1oZWlnaHQ6IDMwdmg7XG4gICAgYm9yZGVyOjFweCBzb2xpZDtcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgbWFyZ2luOmF1dG87XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6Y2VudGVyXG59XG4uaW1ne1xuICAgIGhlaWdodDoxMDAlO1xuICAgIHdpZHRoOjEwMCU7XG4gICAgb2JqZWN0LWZpdDpjb3ZlclxufVxuIiwiLnBpY2tlciB7XG4gIHdpZHRoOiAzMHJlbTtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIGhlaWdodDogMjByZW07XG4gIG1heC1oZWlnaHQ6IDMwdmg7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW46IGF1dG87XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uaW1nIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59Il19 */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { MapModalComponent } from '../../map-modal/map-modal.component';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport {switchMap,map} from'rxjs/operators'\nimport {of} from 'rxjs'\nimport { PlaceLocation } from 'src/app/places/placeLocation.model';\n@Component({\n  selector: 'app-location-picker',\n  templateUrl: './location-picker.component.html',\n  styleUrls: ['./location-picker.component.scss'],\n})\nexport class LocationPickerComponent implements OnInit {\n  @Output() pickLocation=new EventEmitter<PlaceLocation>()\n  selectedURL:string=null\n  isloading=false\n  constructor(private http:HttpClient,\n              private ctr:ModalController) { }\n\n  ngOnInit() {}\n  private toAddress(lat:number,lng:number){\n      return this.http.get<any>(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${environment.googleApiKey}`).pipe(map(data=>{\n        if(data==null||!data.results||data.results.length==0){\n          return null\n        }\n        return data.results[0].formatted_address\n      }))\n  }\n  onClickLocation(){\n    this.ctr.create({component:MapModalComponent}).then(controller=>{\n      controller.present()\n      controller.onDidDismiss().then(data=>{\n      const place:PlaceLocation={\n          lat:data.data.lat,\n          lng:data.data.lng,\n          address:null,\n          imageURL:null\n        }\n        this.toAddress(data.data.lat,data.data.lng).pipe(switchMap(address=>{\n          place.address=address\n          this.isloading=true\n          return of(this.getImage(place.lat,place.lng,18))\n        })).subscribe(url=>{\n          place.imageURL=url\n          this.selectedURL=url\n          this.isloading=false\n          this.pickLocation.emit(place)\n        })\n      })\n    })\n  }\n  private getImage(lat:number,lng:number,zoom:number){\n    console.log(`https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lng}&zoom=${zoom}&size=500x300&maptype=roadmap&markers=color:red%7Clabel:Place%7C${lat},${lng}&key=${environment.googleApiKey}`)\n    return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lng}&zoom=${zoom}&size=500x300&maptype=roadmap&markers=color:red%7Clabel:Place%7C${lat},${lng}&key=${environment.googleApiKey}`\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MapModalComponent } from './map-modal/map-modal.component';\nimport { LocationPickerComponent } from './picker/location-picker/location-picker.component';\nimport { IonicModule } from '@ionic/angular';\n\n@NgModule({\n    imports: [\n      CommonModule,\n      IonicModule\n    ],\n    declarations: [MapModalComponent,LocationPickerComponent],\n    exports: [MapModalComponent,LocationPickerComponent],\n    entryComponents:[MapModalComponent]\n  })\nexport class SharedModule{\n\n}"],"sourceRoot":"webpack:///","file":"default~discover-place-detail-place-detail-module~new-offer-new-offer-module~offers-new-offer-new-of~089e34c1-es5.js"}